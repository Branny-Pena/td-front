<div class="min-h-screen td-app-bg flex flex-col relative" [class.td-chrome-plain]="chromeVariant() === 'plain'">
  <app-message-toast-container />
  @if (showHeader()) {
    <app-header
      [currentStep]="currentStep()"
      [totalSteps]="totalSteps()"
      [showLogo]="showHeaderLogo()"
      [showHomeLink]="showHeaderHomeLink()">
      <ng-content select="[header-actions]"></ng-content>
    </app-header>
  }

  @if (showStepper()) {
    <app-step-indicator [currentStep]="currentStep()" [previousStep]="previousStep()" [totalSteps]="totalSteps()" />
  }

  <main class="flex-1 p-4 pb-[calc(6rem+env(safe-area-inset-bottom))] overflow-y-auto">
    <ng-content></ng-content>
  </main>

  @if (showBottomNav()) {
    <app-bottom-nav
      [showBack]="showBack()"
      [showNext]="showNext()"
      [nextDisabled]="nextDisabled()"
      [nextLabel]="nextLabel()"
      [backLabel]="backLabel()"
      [isLoading]="isLoading()"
      (backClick)="onBack()"
      (nextClick)="onNext()" />
  }
</div>
